# Todo Admin 페이지 Use Case

## Use Case 1: 사용자의 Todo 목록 관리

- **Actor:** 관리자 (Administrator)
- **Description:** 관리자가 특정 사용자의 Todo 목록을 조회하고, 필요에 따라 항목을 추가, 수정, 삭제한다.
- **Pre-conditions:**
  - 관리자가 시스템에 성공적으로 로그인한 상태이다.
  - 관리자에게 데이터를 관리할 수 있는 권한이 부여되어 있다.
- **Post-conditions:**
  - 사용자의 Todo 데이터가 관리자에 의해 성공적으로 변경(추가/수정/삭제)된다.
  - 모든 변경 사항은 데이터베이스에 즉시 반영된다.

### Main Flow (기본 흐름)

1.  관리자는 관리자 페이지에 접속하여 사용자 목록이 표시된 대시보드를 확인한다.
2.  관리자는 목록에서 Todo 데이터를 관리할 특정 사용자를 클릭하거나 검색하여 선택한다.
3.  시스템은 선택된 사용자의 모든 Todo 항목을 리스트 형태로 화면에 표시한다. 각 항목에는 내용, 완료 상태, 생성일이 포함된다.
4.  관리자는 아래의 작업 중 하나를 수행한다.
    - **(4a) Todo 추가:** '새 Todo 추가' 버튼을 클릭한다. 입력 필드에 새로운 Todo 내용을 작성하고 '저장' 버튼을 클릭한다.
    - **(4b) Todo 수정:** 수정할 Todo 항목을 선택하고 '수정' 버튼을 클릭한다. 내용을 변경하거나 완료 상태를 토글한 후 '저장' 버튼을 클릭한다.
    - **(4c) Todo 삭제:** 삭제할 Todo 항목 옆의 '삭제' 버튼을 클릭한다.
5.  시스템은 요청된 작업을 처리하고 데이터베이스에 변경 사항을 반영한다.
6.  시스템은 변경된 최신 Todo 목록을 화면에 다시 표시한다.
7.  Use Case가 종료된다.

### Alternative Flows (대안 흐름)

- **4c-1. 삭제 작업 취소:**
  1.  관리자가 '삭제' 버튼을 클릭하면, 시스템은 "정말로 삭제하시겠습니까?"와 같은 확인 대화상자를 표시한다.
  2.  관리자가 '취소' 버튼을 클릭한다.
  3.  삭제 작업은 중단되고, 시스템은 이전 상태를 유지한다. Use Case는 3번 단계로 돌아간다.

- **2a. 사용자를 찾을 수 없음:**
  1.  관리자가 검색 기능을 통해 사용자를 찾았으나, 결과가 없는 경우.
  2.  시스템은 "해당 사용자를 찾을 수 없습니다." 라는 메시지를 표시한다.
  3.  Use Case는 1번 단계로 돌아간다.

### Exception Flows (예외 흐름)

- **5a. 데이터베이스 연결 오류:**
  1.  관리자가 Todo 항목을 추가/수정/삭제하는 과정에서 시스템이 데이터베이스에 연결할 수 없는 경우.
  2.  시스템은 "데이터베이스 오류가 발생했습니다. 잠시 후 다시 시도해주세요."와 같은 오류 메시지를 사용자에게 표시한다.
  3.  Use Case가 종료된다.

---

## Use Case 2: 사용자 계정 관리

- **Actor:** 관리자 (Administrator)
- **Description:** 관리자가 사용자의 계정 정보를 조회하고, 필요 시 계정을 삭제한다.
- **Pre-conditions:**
  - 관리자가 시스템에 성공적으로 로그인한 상태이다.
- **Post-conditions:**
  - 사용자 계정 정보가 조회되거나, 시스템에서 영구적으로 삭제된다.

### Main Flow (기본 흐름)

1.  관리자는 사용자 관리 페이지로 이동한다.
2.  시스템은 등록된 모든 사용자의 목록을 표시한다.
3.  관리자는 아래의 작업 중 하나를 수행한다.
    - **(3a) 사용자 상세 정보 조회:** 특정 사용자를 클릭하여 가입일, 마지막 로그인 일시 등의 상세 정보를 확인한다.
    - **(3b) 사용자 삭제:** 특정 사용자 옆의 '삭제' 버튼을 클릭한다.
4.  (사용자 삭제의 경우) 시스템은 "해당 사용자를 삭제하면 모든 관련 데이터(Todo 목록 등)가 영구적으로 삭제됩니다. 계속하시겠습니까?" 와 같은 강력한 경고 메시지와 함께 확인 대화상자를 표시한다.
5.  관리자가 삭제를 확인한다.
6.  시스템은 Supabase에 사용자 삭제를 요청하고, 성공적으로 처리되면 사용자 목록을 갱신하여 표시한다.
7.  Use Case가 종료된다.

### Alternative Flows (대안 흐름)

- **5a. 사용자 삭제 취소:**
  1.  관리자가 확인 대화상자에서 '취소' 버튼을 클릭한다.
  2.  삭제 작업은 중단되고, Use Case는 2번 단계로 돌아간다.

### Exception Flows (예외 흐름)

- **6a. 권한 또는 API 오류:**
  1.  시스템이 Supabase 사용자 삭제 요청을 보냈으나, 권한 문제나 서버 오류로 실패하는 경우.
  2.  시스템은 "사용자 삭제에 실패했습니다. 다시 시도해주세요." 와 같은 오류 메시지를 표시한다.
  3.  Use Case가 종료된다.